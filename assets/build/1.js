webpackJsonp([1],{232:function(l,n,u){"use strict";function t(l){return p._19(2,[p._16(402653184,1,{backdrop:0}),(l()(),p.Z(1,0,null,null,1,"div",[["class","menu-inner"]],null,null,null,null,null)),p._12(null,0),(l()(),p.Z(3,0,null,null,1,"ion-backdrop",[["disable-activated",""],["role","presentation"],["tappable",""]],null,null,null,null,null)),p.Y(4,16384,[[1,4]],0,K.a,[p.j,p.z],null,null)],null,null)}function a(l){return p._19(2,[(l()(),p.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),p.Y(1,278528,null,0,Q.g,[p.p,p.q,p.j,p.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),p._12(null,0),p._12(null,1),p._12(null,2),(l()(),p.Z(5,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),p.Y(6,278528,null,0,Q.g,[p.p,p.q,p.j,p.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),p._12(null,3)],function(l,n){var u=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+u._mode);l(n,6,0,"toolbar-content","toolbar-content-"+u._mode)},null)}function e(l){return p._19(2,[(l()(),p.Z(0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),p.Y(1,278528,null,0,Q.g,[p.p,p.q,p.j,p.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),p._12(null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}function o(l){return p._19(0,[(l()(),p.Z(0,0,[[1,0],["textInput",1]],null,1,"input",[["class","text-input"],["dir","auto"]],[[8,"type",0],[1,"aria-labelledby",0],[1,"min",0],[1,"max",0],[1,"step",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(l,n,u){var t=!0,a=l.component;if("input"===n){t=!1!==a.onInput(u)&&t}if("blur"===n){t=!1!==a.onBlur(u)&&t}if("focus"===n){t=!1!==a.onFocus(u)&&t}if("keydown"===n){t=!1!==a.onKeydown(u)&&t}return t},null,null)),p.Y(1,278528,null,0,Q.g,[p.p,p.q,p.j,p.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(l,n){l(n,1,0,"text-input","text-input-"+n.component._mode)},function(l,n){var u=n.component;l(n,0,0,u._type,u._labelId,u.min,u.max,u.step,u.autocomplete,u.autocorrect,u.placeholder,u._disabled,u._readonly)})}function s(l){return p._19(0,[(l()(),p.Z(0,0,[[1,0],["textInput",1]],null,1,"textarea",[["class","text-input"]],[[1,"aria-labelledby",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(l,n,u){var t=!0,a=l.component;if("input"===n){t=!1!==a.onInput(u)&&t}if("blur"===n){t=!1!==a.onBlur(u)&&t}if("focus"===n){t=!1!==a.onFocus(u)&&t}if("keydown"===n){t=!1!==a.onKeydown(u)&&t}return t},null,null)),p.Y(1,278528,null,0,Q.g,[p.p,p.q,p.j,p.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(l,n){l(n,1,0,"text-input","text-input-"+n.component._mode)},function(l,n){var u=n.component;l(n,0,0,u._labelId,u.autocomplete,u.autocorrect,u.placeholder,u._disabled,u._readonly)})}function i(l){return p._19(0,[(l()(),p.Z(0,0,null,null,1,"button",[["class","text-input-clear-icon"],["clear",""],["ion-button",""],["tabindex","-1"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(l,n,u){var t=!0,a=l.component;if("click"===n){t=!1!==a.clearTextInput(u)&&t}if("mousedown"===n){t=!1!==a.clearTextInput(u)&&t}return t},el.b,el.a)),p.Y(1,1097728,null,0,ol.a,[[8,""],F.a,p.j,p.z],{clear:[0,"clear"]},null)],function(l,n){l(n,1,0,"")},null)}function r(l){return p._19(0,[(l()(),p.Z(0,0,null,null,0,"div",[["class","input-cover"]],null,[[null,"touchstart"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(l,n,u){var t=!0,a=l.component;if("touchstart"===n){t=!1!==a._pointerStart(u)&&t}if("touchend"===n){t=!1!==a._pointerEnd(u)&&t}if("mousedown"===n){t=!1!==a._pointerStart(u)&&t}if("mouseup"===n){t=!1!==a._pointerEnd(u)&&t}return t},null,null))],null,null)}function c(l){return p._19(2,[p._16(671088640,1,{_native:0}),(l()(),p.U(16777216,null,null,1,null,o)),p.Y(2,16384,null,0,Q.i,[p.I,p.F],{ngIf:[0,"ngIf"]},null),(l()(),p.U(16777216,null,null,1,null,s)),p.Y(4,16384,null,0,Q.i,[p.I,p.F],{ngIf:[0,"ngIf"]},null),(l()(),p.U(16777216,null,null,1,null,i)),p.Y(6,16384,null,0,Q.i,[p.I,p.F],{ngIf:[0,"ngIf"]},null),(l()(),p.U(16777216,null,null,1,null,r)),p.Y(8,16384,null,0,Q.i,[p.I,p.F],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,!u._isTextarea);l(n,4,0,u._isTextarea);l(n,6,0,u._clearInput);l(n,8,0,u._useAssist)},null)}function d(l){return p._19(0,[(l()(),p.Z(0,0,null,null,12,"ion-item",[["class","item item-block"]],null,null,null,x.b,x.a)),p.Y(1,1097728,null,3,j.a,[z.a,F.a,p.j,p.z,[2,P.a]],null,null),p._16(335544320,5,{contentLabel:0}),p._16(603979776,6,{_buttons:1}),p._16(603979776,7,{_icons:1}),p.Y(5,16384,null,0,T.a,[],null,null),(l()(),p._18(-1,2,["\n          "])),(l()(),p.Z(7,0,null,2,1,"span",[["class","username"]],null,null,null,null,null)),(l()(),p._18(8,null,["",":"])),(l()(),p._18(-1,2,["\n          "])),(l()(),p.Z(10,0,null,2,1,"span",[["class","message"]],null,null,null,null,null)),(l()(),p._18(11,null,["",""])),(l()(),p._18(-1,2,["\n        "]))],null,function(l,n){l(n,8,0,n.context.$implicit.username);l(n,11,0,n.context.$implicit.text)})}function _(l){return p._19(0,[p._16(402653184,1,{chatcontent:0}),(l()(),p.Z(1,0,null,null,76,"ion-split-pane",[],null,null,null,null,null)),p.Y(2,4341760,null,1,B.b,[p.u,S.a,F.a,p.j,p.z],{when:[0,"when"]},null),p._16(603979776,2,{_setchildren:1}),p._15(2048,[[2,4]],B.a,null,[B.b]),(l()(),p._18(-1,null,["\n  "])),(l()(),p.Z(6,0,[["head",1]],null,6,"ion-header",[],null,null,null,null,null)),p.Y(7,16384,null,0,U.a,[F.a,p.j,p.z,[2,A.a]],null,null),(l()(),p._18(-1,null,["\n    "])),(l()(),p.Z(9,0,null,null,2,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,E.b,E.a)),p.Y(10,49152,null,0,M.a,[N.a,[2,A.a],[2,q.a],F.a,p.j,p.z],null,null),(l()(),p._18(-1,3,["\n    "])),(l()(),p._18(-1,null,["\n  "])),(l()(),p._18(-1,null,["\n  "])),(l()(),p.Z(14,0,null,null,1,"header-component",[],null,null,null,D.b,D.a)),p.Y(15,49152,null,0,O.a,[V.a],null,null),(l()(),p._18(-1,null,["\n  "])),(l()(),p.Z(17,0,null,null,19,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,X.b,X.a)),p.Y(18,4374528,[["content",4]],0,H.a,[F.a,S.a,L.a,p.j,p.z,N.a,G.a,p.u,[2,A.a],[2,q.a]],null,null),(l()(),p._18(-1,1,["\n\n    "])),(l()(),p.Z(20,0,null,1,1,"div",[["class","chatbutton"]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.toggleChat()&&t}return t},null,null)),(l()(),p._18(-1,null,["\n    "])),(l()(),p._18(-1,1,["\n    "])),(l()(),p.Z(23,0,null,1,11,"div",[["id","canvaswindow"]],null,null,null,null,null)),(l()(),p._18(-1,null,["\n      "])),(l()(),p.Z(25,0,null,null,8,"div",[["class","webgl-content"],["id","canvaswrapper"]],null,null,null,null,null)),(l()(),p._18(-1,null,["\n        "])),(l()(),p.Z(27,0,null,null,0,"div",[["id","gameContainer"],["style","width: 960px; height: 540px;"]],null,null,null,null,null)),(l()(),p._18(-1,null,["\n        "])),(l()(),p.Z(29,0,null,null,3,"div",[["class","footer"]],null,null,null,null,null)),(l()(),p._18(-1,null,["\n          "])),(l()(),p.Z(31,0,null,null,0,"div",[["class","fullscreen"]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.goFull()&&t}return t},null,null)),(l()(),p._18(-1,null,["\n        "])),(l()(),p._18(-1,null,["\n      "])),(l()(),p._18(-1,null,["\n    "])),(l()(),p._18(-1,1,["\n    "])),(l()(),p._18(-1,1,["\n  "])),(l()(),p._18(-1,null,["\n\n  "])),(l()(),p.Z(38,0,null,null,38,"ion-menu",[["role","navigation"],["side","right"],["type","push"]],null,null,null,t,W)),p.Y(39,245760,null,2,R.a,[$.a,p.j,F.a,S.a,p.z,G.a,J.l,L.a,N.a],{content:[0,"content"],type:[1,"type"],side:[2,"side"]},null),p._16(335544320,3,{menuContent:0}),p._16(335544320,4,{menuNav:0}),p._15(2048,[[2,4]],B.a,null,[R.a]),(l()(),p._18(-1,0,["\n    "])),(l()(),p.Z(44,0,null,0,10,"ion-header",[],null,null,null,null,null)),p.Y(45,16384,null,0,U.a,[F.a,p.j,p.z,[2,A.a]],null,null),(l()(),p._18(-1,null,["\n      "])),(l()(),p.Z(47,0,null,null,6,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,a,nl)),p.Y(48,49152,null,0,ll.a,[F.a,p.j,p.z],null,null),(l()(),p._18(-1,3,["\n        "])),(l()(),p.Z(50,0,null,3,2,"ion-title",[],null,null,null,e,tl)),p.Y(51,49152,null,0,ul.a,[F.a,p.j,p.z,[2,ll.a],[2,M.a]],null,null),(l()(),p._18(-1,0,["Menu"])),(l()(),p._18(-1,3,["\n      "])),(l()(),p._18(-1,null,["\n    "])),(l()(),p._18(-1,0,["\n    "])),(l()(),p.Z(56,0,null,0,8,"ion-footer",[],null,null,null,null,null)),p.Y(57,16384,null,0,al.a,[F.a,p.j,p.z,[2,A.a]],null,null),(l()(),p._18(-1,null,["\n      "])),(l()(),p.Z(59,0,null,null,4,"ion-input",[["placeholder","Send a message"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keypress"]],function(l,n,u){var t=!0,a=l.component;if("ngModelChange"===n){t=!1!==(a.msg=u)&&t}if("keypress"===n){t=!1!==a.send(u.keyCode)&&t}return t},c,rl)),p.Y(60,671744,null,0,il.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),p._15(2048,null,il.f,null,[il.h]),p.Y(62,16384,null,0,il.g,[il.f],null,null),p.Y(63,5423104,null,0,sl.a,[F.a,S.a,z.a,N.a,p.j,p.z,[2,H.a],[2,j.a],[2,il.f],L.a],{placeholder:[0,"placeholder"]},null),(l()(),p._18(-1,null,["\n    "])),(l()(),p._18(-1,0,["\n    "])),(l()(),p.Z(66,0,null,0,9,"ion-content",[["ion-scroll",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,X.b,X.a)),p.Y(67,4374528,[[3,4],[1,4],["chatcontent",4]],0,H.a,[F.a,S.a,L.a,p.j,p.z,N.a,G.a,p.u,[2,A.a],[2,q.a]],null,null),(l()(),p._18(-1,1,["\n      "])),(l()(),p.Z(69,0,null,1,5,"ion-list",[["class","chatbox"],["no-lines",""]],null,null,null,null,null)),p.Y(70,16384,null,0,cl.a,[F.a,p.j,p.z,S.a,J.l,L.a],null,null),(l()(),p._18(-1,null,["\n        "])),(l()(),p.U(16777216,null,null,1,null,d)),p.Y(73,802816,null,0,Q.h,[p.I,p.F,p.p],{ngForOf:[0,"ngForOf"]},null),(l()(),p._18(-1,null,["\n      "])),(l()(),p._18(-1,1,["\n    "])),(l()(),p._18(-1,0,["\n  "])),(l()(),p._18(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,2,0,u.showChat);l(n,39,0,p._13(n,18),"push","right");l(n,60,0,u.msg);l(n,63,0,"Send a message");l(n,73,0,u.msgs)},function(l,n){l(n,9,0,p._13(n,10)._hidden,p._13(n,10)._sbPadding);l(n,17,0,p._13(n,18).statusbarPadding,p._13(n,18)._hasRefresher);l(n,47,0,p._13(n,48)._sbPadding);l(n,59,0,p._13(n,62).ngClassUntouched,p._13(n,62).ngClassTouched,p._13(n,62).ngClassPristine,p._13(n,62).ngClassDirty,p._13(n,62).ngClassValid,p._13(n,62).ngClassInvalid,p._13(n,62).ngClassPending);l(n,66,0,p._13(n,67).statusbarPadding,p._13(n,67)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var p=u(0),g=(u(5),u(42),u(51)),h=function(){function l(l,n,u,t){this.navCtrl=l,this.navParams=n,this.appState=u,this.menuCtrl=t,this.showChat=!1,this.isFullscreen=!1,this.msgs=[{username:"0x221",text:"hi"}]}return l.prototype.ionViewDidEnter=function(){this.chatcontent.scrollToBottom(1e3)},l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad GamePage"),console.log(document.getElementById("gameContainer")),window.gameInstance=window.UnityLoader.instantiate("gameContainer","/assets/game/Build/unitywebDemo.json",{onProgress:window.UnityProgress}),console.log("loaded")},l.prototype.send=function(l){var n=this;13==l&&(console.log("msg: ",this.msg),this.msgs.push({username:this.appState.account.substring(0,5),text:this.msg}),this.msg="",setTimeout(function(){n.chatcontent.scrollToBottom(300)},100))},l.prototype.goFull=function(){for(var l=document.getElementById("canvaswindow"),n=document.getElementById("canvasfull");l.childNodes.length>0;)n.appendChild(l.childNodes[0]);window.gameInstance.SetFullscreen(1),this.isFullscreen=!0;var u=setInterval(function(){if(console.log(1>=outerHeight-innerHeight),1<outerHeight-innerHeight){for(;n.childNodes.length>0;)l.appendChild(n.childNodes[0]);clearInterval(u)}},100)},l.prototype.toggleChat=function(){var l=this;this.showChat=!this.showChat,setTimeout(function(){var n=l.msgs.pop();setTimeout(function(){l.msgs.push(n)},0)},20)},l}(),f=u(112),m=function(){return function(){}}(),b=u(186),v=u(187),y=u(188),w=u(189),C=u(190),k=u(191),Z=u(192),I=u(193),Y=u(194),x=u(199),j=u(18),z=u(15),F=u(1),P=u(43),T=u(75),B=u(34),S=u(3),U=u(52),A=u(4),E=u(114),M=u(25),N=u(8),q=u(14),D=u(195),O=u(71),V=u(33),X=u(196),H=u(21),L=u(9),G=u(24),K=u(22),R=u(117),$=u(26),J=u(7),W=p.X({encapsulation:2,styles:[],data:{}}),Q=u(12),ll=u(53),nl=p.X({encapsulation:2,styles:[],data:{}}),ul=u(118),tl=p.X({encapsulation:2,styles:[],data:{}}),al=u(123),el=u(38),ol=u(19),sl=u(116),il=u(17),rl=p.X({encapsulation:2,styles:[],data:{}}),cl=u(54),dl=u(10),_l=p.X({encapsulation:2,styles:[],data:{}}),pl=p.V("page-game",h,function(l){return p._19(0,[(l()(),p.Z(0,0,null,null,1,"page-game",[],null,null,null,_,_l)),p.Y(1,49152,null,0,h,[q.a,dl.a,g.a,$.a],null,null)],null,null)},{},{},[]),gl=u(113),hl=u(115),fl=u(37);u.d(n,"GamePageModuleNgFactory",function(){return ml});var ml=p.W(m,[],function(l){return p._10([p._11(512,p.i,p.S,[[8,[b.a,v.a,y.a,w.a,C.a,k.a,Z.a,I.a,Y.a,pl]],[3,p.i],p.s]),p._11(4608,Q.k,Q.j,[p.r,[2,Q.s]]),p._11(4608,il.k,il.k,[]),p._11(4608,il.c,il.c,[]),p._11(512,gl.a,gl.a,[]),p._11(512,Q.b,Q.b,[]),p._11(512,il.j,il.j,[]),p._11(512,il.d,il.d,[]),p._11(512,il.i,il.i,[]),p._11(512,hl.a,hl.a,[]),p._11(512,f.a,f.a,[]),p._11(512,hl.b,hl.b,[]),p._11(512,m,m,[]),p._11(256,fl.a,h,[])])})}});